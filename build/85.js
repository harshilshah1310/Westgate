webpackJsonp([85],{1895:function(l,n,t){"use strict";function u(l){return m._57(0,[(l()(),m._31(0,0,null,null,1,"core-format-text",[],null,null,null,null,null)),m._30(1,540672,null,0,G.a,[m.t,L.a,z.a,N.a,E.a,H.a,T.a,B.a,J.a,K.a,S.a,$.a,[2,W.a],[2,X.a],[2,Y.a],Z.a,ll.a],{text:[0,"text"]},null)],function(l,n){l(n,1,0,n.component.quiz.name)},null)}function e(l){return m._57(0,[(l()(),m._31(0,0,null,null,2,"p",[],null,null,null,null,null)),(l()(),m._55(1,null,["",""])),m._47(131072,nl.a,[E.a,m.j])],null,function(l,n){l(n,1,0,m._56(n,1,0,m._44(n,2).transform("addon.mod_quiz.preview")))})}function a(l){return m._57(0,[(l()(),m._31(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),m._55(1,null,["",""]))],null,function(l,n){l(n,1,0,n.component.attempt.attempt)})}function i(l){return m._57(0,[(l()(),m._31(0,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),m._55(1,null,["",""]))],null,function(l,n){l(n,1,0,n.context.$implicit)})}function o(l){return m._57(0,[(l()(),m._31(0,0,null,null,13,"ion-item",[["class","item item-block"],["no-lines",""],["text-wrap",""]],null,null,null,tl.b,tl.a)),m._30(1,1097728,null,3,ul.a,[el.a,al.a,m.t,m.V,[2,il.a]],null,null),m._52(335544320,7,{contentLabel:0}),m._52(603979776,8,{_buttons:1}),m._52(603979776,9,{_icons:1}),m._30(5,16384,null,0,ol.a,[],null,null),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(7,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),m._55(8,null,[""," / ",""])),m._47(131072,nl.a,[E.a,m.j]),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(11,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),m._55(12,null,["",""])),(l()(),m._55(-1,2,["\n            "]))],null,function(l,n){var t=n.component;l(n,8,0,m._56(n,8,0,m._44(n,9).transform("addon.mod_quiz.marks")),t.quiz.sumGradesFormatted);l(n,12,0,t.attempt.readableMark)})}function _(l){return m._57(0,[(l()(),m._31(0,0,null,null,13,"ion-item",[["class","item item-block"],["no-lines",""],["text-wrap",""]],null,null,null,tl.b,tl.a)),m._30(1,1097728,null,3,ul.a,[el.a,al.a,m.t,m.V,[2,il.a]],null,null),m._52(335544320,10,{contentLabel:0}),m._52(603979776,11,{_buttons:1}),m._52(603979776,12,{_icons:1}),m._30(5,16384,null,0,ol.a,[],null,null),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(7,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),m._55(8,null,[""," / ",""])),m._47(131072,nl.a,[E.a,m.j]),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(11,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),m._55(12,null,["",""])),(l()(),m._55(-1,2,["\n            "]))],null,function(l,n){var t=n.component;l(n,8,0,m._56(n,8,0,m._44(n,9).transform("addon.mod_quiz.grade")),t.quiz.gradeFormatted);l(n,12,0,t.attempt.readableGrade)})}function r(l){return m._57(0,[(l()(),m._31(0,0,null,null,14,"ion-item",[["class","item item-block"],["no-lines",""],["text-wrap",""]],null,null,null,tl.b,tl.a)),m._30(1,1097728,null,3,ul.a,[el.a,al.a,m.t,m.V,[2,il.a]],null,null),m._52(335544320,13,{contentLabel:0}),m._52(603979776,14,{_buttons:1}),m._52(603979776,15,{_icons:1}),m._30(5,16384,null,0,ol.a,[],null,null),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(7,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),m._55(8,null,["",""])),m._47(131072,nl.a,[E.a,m.j]),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(11,0,null,2,2,"p",[],null,null,null,null,null)),(l()(),m._31(12,0,null,null,1,"core-format-text",[],null,null,null,null,null)),m._30(13,540672,null,0,G.a,[m.t,L.a,z.a,N.a,E.a,H.a,T.a,B.a,J.a,K.a,S.a,$.a,[2,W.a],[2,X.a],[2,Y.a],Z.a,ll.a],{text:[0,"text"],component:[1,"component"],componentId:[2,"componentId"]},null),(l()(),m._55(-1,2,["\n            "]))],function(l,n){var t=n.component;l(n,13,0,t.attempt.feedback,t.component,t.componentId)},function(l,n){l(n,8,0,m._56(n,8,0,m._44(n,9).transform("addon.mod_quiz.feedback")))})}function c(l){return m._57(0,[(l()(),m._31(0,0,null,null,16,"ion-item",[["class","item item-block"]],null,null,null,tl.b,tl.a)),m._30(1,1097728,null,3,ul.a,[el.a,al.a,m.t,m.V,[2,il.a]],null,null),m._52(335544320,16,{contentLabel:0}),m._52(603979776,17,{_buttons:1}),m._52(603979776,18,{_icons:1}),m._30(5,16384,null,0,ol.a,[],null,null),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(7,0,null,2,8,"button",[["block",""],["icon-start",""],["ion-button",""]],null,[[null,"click"]],function(l,n,t){var u=!0;if("click"===n){u=!1!==m._44(l,9).onClick()&&u}return u},_l.b,_l.a)),m._30(8,1097728,[[17,4]],0,rl.a,[[8,""],al.a,m.t,m.V],{block:[0,"block"]},null),m._30(9,16384,null,0,cl.a,[[2,W.a]],{navPush:[0,"navPush"],navParams:[1,"navParams"]},null),m._48(10,{courseId:0,quizId:1,attemptId:2}),(l()(),m._55(-1,0,["\n                    "])),(l()(),m._31(12,0,null,0,1,"ion-icon",[["name","search"],["role","img"]],[[2,"hide",null]],null,null,null,null)),m._30(13,147456,null,0,sl.a,[al.a,m.t,m.V],{name:[0,"name"]},null),(l()(),m._55(14,0,["\n                    ","\n                "])),m._47(131072,nl.a,[E.a,m.j]),(l()(),m._55(-1,2,["\n            "]))],function(l,n){var t=n.component;l(n,8,0,"");l(n,9,0,"AddonModQuizReviewPage",l(n,10,0,t.courseId,t.quiz.id,t.attempt.id));l(n,13,0,"search")},function(l,n){l(n,12,0,m._44(n,13)._hidden);l(n,14,0,m._56(n,14,0,m._44(n,15).transform("addon.mod_quiz.review")))})}function s(l){return m._57(0,[(l()(),m._31(0,0,null,null,10,"ion-item",[["class","core-danger-item item item-block"],["text-wrap",""]],null,null,null,tl.b,tl.a)),m._30(1,1097728,null,3,ul.a,[el.a,al.a,m.t,m.V,[2,il.a]],null,null),m._52(335544320,19,{contentLabel:0}),m._52(603979776,20,{_buttons:1}),m._52(603979776,21,{_icons:1}),m._30(5,16384,null,0,ol.a,[],null,null),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(7,0,null,2,2,"p",[],null,null,null,null,null)),(l()(),m._55(8,null,["",""])),m._47(131072,nl.a,[E.a,m.j]),(l()(),m._55(-1,2,["\n            "]))],null,function(l,n){l(n,8,0,m._56(n,8,0,m._44(n,9).transform("addon.mod_quiz.noreviewattempt")))})}function d(l){return m._57(0,[(l()(),m._31(0,0,null,null,50,"ion-list",[],null,null,null,null,null)),m._30(1,16384,null,0,dl.a,[al.a,m.t,m.V,H.a,fl.l,ml.a],null,null),(l()(),m._55(-1,null,["\n            "])),(l()(),m._31(3,0,null,null,16,"ion-item",[["class","item item-block"],["no-lines",""],["text-wrap",""]],null,null,null,tl.b,tl.a)),m._30(4,1097728,null,3,ul.a,[el.a,al.a,m.t,m.V,[2,il.a]],null,null),m._52(335544320,1,{contentLabel:0}),m._52(603979776,2,{_buttons:1}),m._52(603979776,3,{_icons:1}),m._30(8,16384,null,0,ol.a,[],null,null),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(10,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),m._55(11,null,["",""])),m._47(131072,nl.a,[E.a,m.j]),(l()(),m._55(-1,2,["\n                "])),(l()(),m._26(16777216,null,2,1,null,e)),m._30(15,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,2,["\n                "])),(l()(),m._26(16777216,null,2,1,null,a)),m._30(18,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,2,["\n            "])),(l()(),m._55(-1,null,["\n            "])),(l()(),m._31(21,0,null,null,13,"ion-item",[["class","item item-block"],["no-lines",""],["text-wrap",""]],null,null,null,tl.b,tl.a)),m._30(22,1097728,null,3,ul.a,[el.a,al.a,m.t,m.V,[2,il.a]],null,null),m._52(335544320,4,{contentLabel:0}),m._52(603979776,5,{_buttons:1}),m._52(603979776,6,{_icons:1}),m._30(26,16384,null,0,ol.a,[],null,null),(l()(),m._55(-1,2,["\n                "])),(l()(),m._31(28,0,null,2,2,"h2",[],null,null,null,null,null)),(l()(),m._55(29,null,["",""])),m._47(131072,nl.a,[E.a,m.j]),(l()(),m._55(-1,2,["\n                "])),(l()(),m._26(16777216,null,2,1,null,i)),m._30(33,802816,null,0,pl.j,[m._11,m._6,m.E],{ngForOf:[0,"ngForOf"]},null),(l()(),m._55(-1,2,["\n            "])),(l()(),m._55(-1,null,["\n            "])),(l()(),m._26(16777216,null,null,1,null,o)),m._30(37,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,null,["\n            "])),(l()(),m._26(16777216,null,null,1,null,_)),m._30(40,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,null,["\n            "])),(l()(),m._26(16777216,null,null,1,null,r)),m._30(43,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,null,["\n            "])),(l()(),m._26(16777216,null,null,1,null,c)),m._30(46,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,null,["\n            "])),(l()(),m._26(16777216,null,null,1,null,s)),m._30(49,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,null,["\n        "]))],function(l,n){var t=n.component;l(n,15,0,t.attempt.preview);l(n,18,0,!t.attempt.preview);l(n,33,0,t.attempt.readableState);l(n,37,0,t.quiz.showMarkColumn&&""!==t.attempt.readableMark);l(n,40,0,t.quiz.showGradeColumn&&""!==t.attempt.readableGrade);l(n,43,0,t.quiz.showFeedbackColumn&&t.attempt.feedback);l(n,46,0,t.quiz.showReviewColumn&&t.attempt.finished);l(n,49,0,!t.quiz.showReviewColumn)},function(l,n){l(n,11,0,m._56(n,11,0,m._44(n,12).transform("addon.mod_quiz.attemptnumber")));l(n,29,0,m._56(n,29,0,m._44(n,30).transform("addon.mod_quiz.attemptstate")))})}function f(l){return m._57(0,[(l()(),m._31(0,0,null,null,12,"ion-header",[],null,null,null,null,null)),m._30(1,16384,null,0,hl.a,[al.a,m.t,m.V,[2,bl.a]],null,null),(l()(),m._55(-1,null,["\n    "])),(l()(),m._31(3,0,null,null,8,"ion-navbar",[["class","toolbar"],["core-back-button",""]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,vl.b,vl.a)),m._30(4,49152,null,0,zl.a,[ql.a,[2,bl.a],[2,W.a],al.a,m.t,m.V],null,null),m._30(5,212992,null,0,gl.a,[zl.a,H.a,E.a,ll.a],null,null),(l()(),m._55(-1,3,["\n        "])),(l()(),m._31(7,0,null,3,3,"ion-title",[],null,null,null,Il.b,Il.a)),m._30(8,49152,null,0,kl.a,[al.a,m.t,m.V,[2,wl.a],[2,zl.a]],null,null),(l()(),m._26(16777216,null,0,1,null,u)),m._30(10,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,3,["\n    "])),(l()(),m._55(-1,null,["\n"])),(l()(),m._55(-1,null,["\n"])),(l()(),m._31(14,0,null,null,17,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,Pl.b,Pl.a)),m._30(15,4374528,null,0,X.a,[al.a,H.a,ml.a,m.t,m.V,ql.a,yl.a,m.M,[2,bl.a],[2,W.a]],null,null),(l()(),m._55(-1,1,["\n    "])),(l()(),m._31(17,0,null,2,6,"ion-refresher",[],[[2,"refresher-active",null],[4,"top",null]],[[null,"ionRefresh"]],function(l,n,t){var u=!0;if("ionRefresh"===n){u=!1!==l.component.doRefresh(t)&&u}return u},null,null)),m._30(18,212992,null,0,Rl.a,[H.a,X.a,m.M,fl.l],{enabled:[0,"enabled"]},{ionRefresh:"ionRefresh"}),(l()(),m._55(-1,null,["\n        "])),(l()(),m._31(20,0,null,null,2,"ion-refresher-content",[],[[1,"state",0]],null,null,jl.b,jl.a)),m._30(21,114688,null,0,xl.a,[Rl.a,al.a],{pullingText:[0,"pullingText"]},null),m._47(131072,nl.a,[E.a,m.j]),(l()(),m._55(-1,null,["\n    "])),(l()(),m._55(-1,1,["\n    "])),(l()(),m._31(25,0,null,1,5,"core-loading",[],null,null,null,Ol.b,Ol.a)),m._30(26,638976,null,0,Cl.a,[E.a,m.t,ll.a,T.a],{hideUntil:[0,"hideUntil"]},null),(l()(),m._55(-1,0,["\n        "])),(l()(),m._26(16777216,null,0,1,null,d)),m._30(29,16384,null,0,pl.k,[m._11,m._6],{ngIf:[0,"ngIf"]},null),(l()(),m._55(-1,0,["\n    "])),(l()(),m._55(-1,1,["\n"])),(l()(),m._55(-1,null,["\n"]))],function(l,n){var t=n.component;l(n,5,0);l(n,10,0,t.quiz);l(n,18,0,t.loaded);l(n,21,0,m._34(1,"",m._56(n,21,0,m._44(n,22).transform("core.pulltorefresh")),""));l(n,26,0,t.loaded);l(n,29,0,t.attempt)},function(l,n){l(n,3,0,m._44(n,4)._hidden,m._44(n,4)._sbPadding);l(n,14,0,m._44(n,15).statusbarPadding,m._44(n,15)._hasRefresher);l(n,17,0,"inactive"!==m._44(n,18).state,m._44(n,18)._top);l(n,20,0,m._44(n,21).r.state)})}Object.defineProperty(n,"__esModule",{value:!0});var m=t(0),p=t(8),h=t(3),b=t(24),v=t(29),z=t(4),q=t(152),g=t(288),I=this&&this.__decorate||function(l,n,t,u){var e,a=arguments.length,i=a<3?n:null===u?u=Object.getOwnPropertyDescriptor(n,t):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,t,u);else for(var o=l.length-1;o>=0;o--)(e=l[o])&&(i=(a<3?e(i):a>3?e(n,t,i):e(n,t))||i);return a>3&&i&&Object.defineProperty(n,t,i),i},k=this&&this.__metadata||function(l,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(l,n)},w=function(){function l(l,n,t,u){this.domUtils=n,this.quizProvider=t,this.quizHelper=u,this.component=q.a.COMPONENT,this.attemptId=l.get("attemptId"),this.quizId=l.get("quizId"),this.courseId=l.get("courseId")}return l.prototype.ngOnInit=function(){var l=this;this.fetchQuizData().finally(function(){l.loaded=!0})},l.prototype.doRefresh=function(l){this.refreshData().finally(function(){l.complete()})},l.prototype.fetchQuizData=function(){var l=this;return this.quizProvider.getQuizById(this.courseId,this.quizId).then(function(n){return l.quiz=n,l.componentId=l.quiz.coursemodule,l.fetchAttempt()}).catch(function(n){l.domUtils.showErrorModalDefault(n,"addon.mod_quiz.errorgetattempt",!0)})},l.prototype.fetchAttempt=function(){var l,n,t=this,u=[];return u.push(this.quizProvider.getUserAttempts(this.quizId).then(function(l){for(var n=0;n<l.length;n++){var u=l[n];if(u.id==t.attemptId){t.attempt=u;break}}return t.attempt?t.quizProvider.loadFinishedOfflineData([t.attempt]):Promise.reject(null)})),u.push(this.quizProvider.getCombinedReviewOptions(this.quiz.id).then(function(n){l=n})),u.push(this.quizProvider.getQuizAccessInformation(this.quiz.id).then(function(l){if((n=l).canreviewmyattempts)return t.quizProvider.getAttemptReview(t.attemptId,-1).catch(function(){n.canreviewmyattempts=!1})})),Promise.all(u).then(function(){t.quizHelper.setQuizCalculatedData(t.quiz,l),t.quiz.showReviewColumn=n.canreviewmyattempts,t.quizHelper.setAttemptCalculatedData(t.quiz,t.attempt,!1);var u=Number(t.attempt.rescaledGrade);if(t.quiz.showFeedbackColumn&&t.quizProvider.isAttemptFinished(t.attempt.state)&&l.someoptions.overallfeedback&&!isNaN(u))return t.quizProvider.getFeedbackForGrade(t.quiz.id,u).then(function(l){t.attempt.feedback=l.feedbacktext});delete t.attempt.feedback})},l.prototype.refreshData=function(){var l=this,n=[];return n.push(this.quizProvider.invalidateQuizData(this.courseId)),n.push(this.quizProvider.invalidateUserAttemptsForUser(this.quizId)),n.push(this.quizProvider.invalidateQuizAccessInformation(this.quizId)),n.push(this.quizProvider.invalidateCombinedReviewOptionsForUser(this.quizId)),n.push(this.quizProvider.invalidateAttemptReview(this.attemptId)),this.attempt&&void 0!==this.attempt.feedback&&n.push(this.quizProvider.invalidateFeedback(this.quizId)),Promise.all(n).catch(function(){}).then(function(){return l.fetchQuizData()})},l=I([Object(m.m)({selector:"page-addon-mod-quiz-attempt",templateUrl:"attempt.html"}),k("design:paramtypes",[p.t,z.a,q.a,g.a])],l)}(),P=this&&this.__decorate||function(l,n,t,u){var e,a=arguments.length,i=a<3?n:null===u?u=Object.getOwnPropertyDescriptor(n,t):u;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(l,n,t,u);else for(var o=l.length-1;o>=0;o--)(e=l[o])&&(i=(a<3?e(i):a>3?e(n,t,i):e(n,t))||i);return a>3&&i&&Object.defineProperty(n,t,i),i},y=function(){function l(){}return l=P([Object(m.I)({declarations:[w],imports:[b.a,v.a,p.l.forChild(w),h.b.forChild()]})],l)}(),R=t(1365),j=t(1366),x=t(1367),O=t(1368),C=t(1369),F=t(1370),V=t(1371),A=t(1372),D=t(1373),M=t(1376),Q=t(1377),U=t(1378),G=t(41),L=t(1),N=t(10),E=t(18),H=t(14),T=t(2),B=t(26),J=t(5),K=t(16),S=t(9),$=t(17),W=t(22),X=t(25),Y=t(34),Z=t(36),ll=t(12),nl=t(27),tl=t(30),ul=t(20),el=t(19),al=t(6),il=t(28),ol=t(33),_l=t(46),rl=t(43),cl=t(231),sl=t(45),dl=t(87),fl=t(38),ml=t(31),pl=t(7),hl=t(447),bl=t(37),vl=t(1374),zl=t(206),ql=t(32),gl=t(676),Il=t(1375),kl=t(350),wl=t(253),Pl=t(178),yl=t(104),Rl=t(140),jl=t(194),xl=t(146),Ol=t(49),Cl=t(48),Fl=t(63),Vl=m._29({encapsulation:2,styles:[],data:{}}),Al=m._27("page-addon-mod-quiz-attempt",w,function(l){return m._57(0,[(l()(),m._31(0,0,null,null,1,"page-addon-mod-quiz-attempt",[],null,null,null,f,Vl)),m._30(1,114688,null,0,w,[Fl.a,z.a,q.a,g.a],null,null)],function(l,n){l(n,1,0)},null)},{},{},[]),Dl=t(21),Ml=t(346),Ql=t(347),Ul=t(349),Gl=t(348),Ll=t(446),Nl=t(675),El=t(103),Hl=t(254);t.d(n,"AddonModQuizAttemptPageModuleNgFactory",function(){return Tl});var Tl=m._28(y,[],function(l){return m._40([m._41(512,m.o,m._21,[[8,[R.a,j.a,x.a,O.a,C.a,F.a,V.a,A.a,D.a,M.a,Q.a,U.a,Al]],[3,m.o],m.K]),m._41(4608,pl.m,pl.l,[m.G,[2,pl.v]]),m._41(4608,Dl.x,Dl.x,[]),m._41(4608,Dl.d,Dl.d,[]),m._41(4608,Ml.b,Ml.a,[]),m._41(4608,Ql.a,Ql.b,[]),m._41(4608,Ul.b,Ul.a,[]),m._41(4608,Gl.b,Gl.a,[]),m._41(4608,E.a,E.a,[Ll.a,Ml.b,Ql.a,Ul.b,Gl.b,E.b,E.c]),m._41(512,pl.b,pl.b,[]),m._41(512,Dl.v,Dl.v,[]),m._41(512,Dl.i,Dl.i,[]),m._41(512,Dl.s,Dl.s,[]),m._41(512,Nl.a,Nl.a,[]),m._41(512,h.b,h.b,[]),m._41(512,v.a,v.a,[]),m._41(512,El.a,El.a,[]),m._41(512,b.a,b.a,[]),m._41(512,Nl.b,Nl.b,[]),m._41(512,y,y,[]),m._41(256,E.c,void 0,[]),m._41(256,E.b,void 0,[]),m._41(256,Hl.a,w,[])])})}});